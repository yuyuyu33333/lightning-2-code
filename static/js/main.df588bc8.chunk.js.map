{"version":3,"sources":["icons sync /.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/tag.svg","components/icon.tsx","components/Nav.tsx","components/Layout.tsx","views/Money/CategorySection.tsx","components/Input.tsx","views/Money/NoteSection.tsx","views/Money/NumberPadSection/Wrapper.tsx","views/Money/NumberPadSection.tsx","views/Money/NumberPadSection/generateOutput.tsx","lib/createId.tsx","components/hooks/useUpdate.tsx","components/hooks/useTags.tsx","views/Money/TagsSection.tsx","components/hooks/useRecords.tsx","views/Money.tsx","views/Statistic.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","views/Tags.tsx","views/NoMatch.tsx","views/Tag.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","xlinkHref","NavWrapper","styled","div","Nav","to","activeClassName","Wrapper","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","section","CategorySection","categoryMap","useState","categoryList","category","value","c","onClick","onChange","Label","label","Input","NoteSection","note","type","placeholder","target","NumberPadSection","toString","output","_setOutput","text","textContent","split","concat","indexOf","newOutput","length","slice","parseFloat","setOutput","generateOutput","onOk","parseInt","window","localStorage","getItem","createId","setItem","useUpdate","fn","dependency","count","useTags","tags","setTags","localTags","JSON","parse","stringify","findTag","filter","tag","findTagIndex","result","i","updateTag","obj","deleteTag","addTag","tagName","prompt","getName","t","TagsSection","selectedTagIds","tagId","useRecords","records","setRecords","addRecord","newRecord","amount","alert","tagIds","record","createAt","Date","toISOString","MyLayout","CategoryWrapper","defaultFormData","Money","selected","setSelected","Item","Header","h3","Statistic","setCategory","hash","r","key","day","format","push","array","entries","sort","a","b","date","reduce","span","index","Button","button","Center","Space","TagList","ol","Tags","NoMatch","InputWrapper","Topbar","header","Tag","idString","useParams","history","useHistory","goBack","tagContent","AppWrapper","App","exact","path","from","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4FAAA,IAAIA,EAAM,CACT,cAAe,GACf,aAAc,GACd,cAAe,GACf,cAAe,GACf,YAAa,IAId,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,I,gCC1BpB,2CAEIY,EAAS,IAAI,IAAa,CAC5B,GAAM,QACN,IAAO,cACP,QAAW,gBACX,QAAW,+5CAEA,IAAOC,IAAID,GACT,a,gCCTf,2CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,OACN,IAAO,aACP,QAAW,gBACX,QAAW,uhBAEA,IAAOC,IAAID,GACT,a,gCCTf,2CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,QACN,IAAO,cACP,QAAW,gBACX,QAAW,yuBAEA,IAAOC,IAAID,GACT,a,gCCTf,2CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,QACN,IAAO,cACP,QAAW,gBACX,QAAW,0uBAEA,IAAOC,IAAID,GACT,a,gCCTf,2CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,MACN,IAAO,YACP,QAAW,gBACX,QAAW,ozCAEA,IAAOC,IAAID,GACT,a,gECPEE,E,8HACjB,KADiBA,EACFC,OADuER,OAAOS,QAAQF,GAC1C,MAAOG,IAAQC,QAAQC,IAAIF,IAKtF,I,MASeG,EATH,SAACC,GAC6BA,EAAjCC,KAAiCD,EAA5BE,SAAZ,IAAqBC,EAAmBH,EAAnBG,UAAaC,EAAlC,YAAwCJ,EAAxC,GACA,OACG,6CAAKG,UAAS,eAAUA,GAAqB,KAAWC,GAAxD,aACGJ,EAAMC,MAAQ,qBAAKI,UAAW,IAAML,EAAMC,WCN5CK,EAAaC,IAAOC,IAAV,2jBA2DDC,EA5BL,WACR,OACG,cAACH,EAAD,UACE,+BACE,6BACE,eAAC,IAAD,CAASI,GAAG,QAAQC,gBAAgB,WAApC,UACE,cAAC,EAAD,CAAMV,KAAK,QADb,oBAKF,6BACE,eAAC,IAAD,CAASS,GAAG,SAASC,gBAAgB,WAArC,UACE,cAAC,EAAD,CAAMV,KAAK,UADb,oBAKF,6BACE,eAAC,IAAD,CAASS,GAAG,aAAaC,gBAAgB,WAAzC,UACE,cAAC,EAAD,CAAMV,KAAK,UADb,0BCjDLW,EAAUL,IAAOC,IAAV,6FAMPK,EAAON,IAAOC,IAAV,kEAUJM,EAAuC,SAACd,GAC5C,IAAMe,EAAUC,iBAAuB,MAOvC,OANAC,qBAAU,WACRC,YAAW,WACLH,EAAQI,UACZJ,EAAQI,QAAQC,UAAUpB,EAAMoB,aAChC,KACF,CAACpB,EAAMoB,YAEN,eAACR,EAAD,WACE,cAACC,EAAD,CAAMQ,IAAKN,EAASZ,UAAWH,EAAMG,UAArC,SACGH,EAAME,WAET,cAAC,EAAD,QAIPY,EAAOQ,aAAa,CAClBF,UAAU,GAGGN,I,cAAAA,ICvCTF,EAAUL,IAAOgB,QAAV,sZA4BPC,EAAiD,SAACxB,GACtD,IAAMyB,EAAY,CAAC,IAAI,eAAM,IAAI,gBAEjC,EAAuBC,mBAAiB,CAAC,IAAI,MAAtCC,EAAP,oBACMC,EAAU5B,EAAM6B,MAEtB,OACG,cAAC,EAAD,UACE,6BACGF,EAAanD,KAAI,SAAAsD,GAAC,OACjB,oBAEG3B,UAAWyB,IAAWE,EAAG,WAAW,GACnCC,QAAS,WAAK/B,EAAMgC,SAASF,IAHjC,SAIEL,EAAYK,IAHNA,W,uBCvCbG,EAAM1B,IAAO2B,MAAR,oQAmBLC,EAAsC,SAACnC,GACXA,EAAzBkC,MAAyBlC,EAAlBE,SAAd,IAA0BE,EAA1B,YAAgCJ,EAAhC,GACA,OACG,eAACiC,EAAD,WACE,+BAAOjC,EAAMkC,QACb,qCAAW9B,QCvBZQ,EAAUL,IAAOgB,QAAV,+FAWPa,EAA8C,SAACpC,GACnD,IAAMqC,EAAMrC,EAAM6B,MAMlB,OACM,cAAC,EAAD,UACE,cAAC,EAAD,CAAOK,MAAM,eAAKI,KAAK,OAAOC,YAAY,6CACnCV,MAAOQ,EAAML,SAP0B,SAACjD,GACnDiB,EAAMgC,SAASjD,EAAEyD,OAAOX,aCjBxBjB,EAAUL,IAAOgB,QAAV,imCCSPkB,EAAkD,SAACzC,GACvD,MAA4B0B,mBAAS1B,EAAM6B,MAAMa,YAAjD,mBAAOC,EAAP,KAAcC,EAAd,KA4BA,OACG,eAAC,EAAD,WACE,qBAAKzC,UAAU,SAAf,SACGwC,IAEH,sBAAKxC,UAAU,eAAe4B,QApBR,SAAChD,GAC1B,IAAM8D,EAAO9D,EAAEyD,OAA6BM,YAClC,OAAPD,IACQ,OAARA,EAMA,cAAcE,MAAM,IAAIC,OAAO,CAAC,eAAK,iBAAOC,QAAQJ,IAAO,GArB9C,SAACF,GACjB,IAAIO,EAEFA,EADCP,EAAOQ,QAAQ,GACLR,EAAOS,MAAM,EAAE,IACH,IAAhBT,EAAOQ,OACJ,IAECR,EAEbC,EAAWM,GACXlD,EAAMgC,SAASqB,WAAWH,IAYxBI,CClCiB,SAACT,GAA0B,IAAdF,EAAa,uDAAN,IACzC,OAAOE,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACH,MAAY,MAATF,EACME,EAEAF,EAAOE,EAElB,IAAK,IACH,OAAGF,EAAOM,QAAQ,MAAM,EAAUN,EAC3BA,EAAO,IAEhB,IAAK,eACH,OAAmB,IAAhBA,EAAOQ,OACD,GAEDR,EAAOS,MAAM,GAAG,GAI1B,QACE,MAAO,IDIGG,CAAeV,EAAKF,IAN3B3C,EAAMwD,MACNxD,EAAMwD,SAeR,UACE,uCACA,uCACA,uCACA,kDACA,uCACA,uCACA,uCACA,kDACA,uCACA,uCACA,uCACA,wBAAQrD,UAAU,KAAlB,gBACA,wBAAQA,UAAU,OAAlB,eACA,8C,QE3DLxB,EAAI8E,SAASC,OAAOC,aAAaC,QAAQ,UAAU,KAEjDC,EAAU,WAGd,OAFAlF,GAAI,EACJ+E,OAAOC,aAAaG,QAAQ,QAAQnF,EAAG+D,YAChC/D,GCFHoF,EAAU,SAACC,EAAaC,GAC5B,IAAMC,EAAQlD,iBAAO,GACrBC,qBAAU,WACRiD,EAAM/C,SAAS,KAEjBF,qBAAU,WACLiD,EAAM/C,QAAQ,GAChB6C,MAED,CAACA,EAAGC,KCPFE,EAAU,WACd,MAAwBzC,mBAAyC,IAAjE,mBAAO0C,EAAP,KAAaC,EAAb,KAEApD,qBAAU,WACR,IAAIqD,EAAUC,KAAKC,MAAMd,OAAOC,aAAaC,QAAQ,SAAW,MAC1C,IAAnBU,EAAUnB,SACXmB,EAAU,CACR,CAAC3F,GAAIkF,IAAY5D,KAAM,UACvB,CAACtB,GAAIkF,IAAY5D,KAAM,UACvB,CAACtB,GAAIkF,IAAY5D,KAAM,UACvB,CAACtB,GAAIkF,IAAY5D,KAAM,YAG3BoE,EAAQC,KACR,IAEFP,GAAU,WACRL,OAAOC,aAAaG,QAAQ,OAAOS,KAAKE,UAAUL,MAClDA,GA6BF,MAAO,CAACA,OAAMC,UAAQK,QA3BN,SAAC/F,GAAD,OAAayF,EAAKO,QAAO,SAAAC,GAAG,OAAEA,EAAIjG,KAAKA,KAAI,IA2B5BkG,aA1BV,SAAClG,GAEpB,IADA,IAAImG,GAAS,EACLC,EAAE,EAAGA,EAAEX,EAAKjB,OAAO4B,IACzB,GAAGX,EAAKW,GAAGpG,KAAKA,EAAG,CACjBmG,EAASC,EACT,MAGJ,OAAOD,GAkBmCE,UAhB3B,SAACrG,EAAWsG,GAC3BZ,EAAQD,EAAK5F,KAAI,SAAAoG,GAAG,OAAEA,EAAIjG,KAAKA,EAAI,CAACA,KAAGsB,KAAKgF,EAAIhF,MAAM2E,OAeFM,UAbrC,SAACvG,GAChB0F,EAAQD,EAAKO,QAAO,SAAAC,GAAG,OAAEA,EAAIjG,KAAKA,OAY4BwG,OAVnD,WACX,IAAMC,EAAU1B,OAAO2B,OAAO,8CAChB,OAAXD,GAA6B,KAAVA,GACpBf,EAAQ,GAAD,mBAAKD,GAAL,CAAU,CAACzF,GAAGkF,IAAW5D,KAAKmF,OAO+BE,QAJzD,SAAC3G,GACd,IAAMiG,EAAMR,EAAKO,QAAO,SAAAY,GAAC,OAAEA,EAAE5G,KAAKA,KAAI,GACtC,OAAOiG,EAAIA,EAAI3E,KAAM,MC7CnBW,EAAUL,IAAOgB,QAAV,4nBAmCPiE,EAA6C,SAACxF,GAClD,MAAsBmE,IAAfC,EAAP,EAAOA,KAAMe,EAAb,EAAaA,OACPM,EAAezF,EAAM6B,MAW3B,OACM,eAAC,EAAD,WACE,6BACGuC,EAAK5F,KACH,SAAAoG,GAAG,OAAE,oBAAiB7C,QACpB,WAfG,IAAC2D,IAecd,EAAIjG,GAdtB8G,EAAexC,QAAQyC,IAC1B,EACR1F,EAAMgC,SAASyD,EAAed,QAAO,SAAAY,GAAC,OAAEA,IAAIG,MAE5C1F,EAAMgC,SAAN,sBAAmByD,GAAnB,CAAkCC,MAYzBvF,WATKuF,EASed,EAAIjG,GATD8G,EAAexC,QAAQyC,IAAU,EAAI,WAAa,IAMpE,SAIHd,EAAI3E,MAJQ2E,EAAIjG,IANd,IAAC+G,OAaV,wBAAQ3D,QAASoD,EAAjB,0CCpDJQ,EAAa,WACjB,MAA0BjE,mBAAuB,IAAjD,mBAAMkE,EAAN,KAAcC,EAAd,KACA5E,qBAAU,WACR4E,EAAWtB,KAAKC,MAAMd,OAAOC,aAAaC,QAAQ,YAAY,SAC9D,IACFG,GAAU,WACRL,OAAOC,aAAaG,QAAQ,UAAUS,KAAKE,UAAUmB,MACrDA,GAcF,MAAM,CAACA,UAAQE,UAbC,SAACC,GACf,GAAGA,EAAUC,QAAQ,EAEnB,OADAC,MAAM,mCACC,EAET,GAA6B,IAA1BF,EAAUG,OAAO/C,OAElB,OADA8C,MAAM,mCACC,EAET,IAAME,EAAO,2BAAKJ,GAAN,IAAgBK,UAAU,IAAIC,MAAQC,gBAElD,OADAT,EAAW,GAAD,mBAAKD,GAAL,CAAaO,MAChB,KCrBLI,EAAWhG,YAAOO,EAAPP,CAAH,yEAIRiG,EAAgBjG,IAAOC,IAAR,mDAMfiG,EAAgB,CACpBP,OAAQ,GACR7D,KAAM,GACNT,SAAU,IACVoE,OAAQ,GAoCKU,I,SAAAA,GAjCf,WACE,MAAgChF,mBAAS+E,GAAzC,mBAAOE,EAAP,KAAiBC,EAAjB,KACOd,EAAWH,IAAXG,UACD9D,EAAW,SAACiD,GAChB2B,EAAY,2BAAID,GAAa1B,KAS/B,OACG,eAACsB,EAAD,CAAUnF,UAAW,KAArB,UACE,cAAC,EAAD,CAAaS,MAAO8E,EAAST,OAChBlE,SAAU,SAAAkE,GAAM,OAAIlE,EAAS,CAACkE,cAC3C,cAAC,EAAD,CAAarE,MAAO8E,EAAStE,KAChBL,SAAU,SAAAK,GAASL,EAAS,CAACK,YAC1C,cAACmE,EAAD,UACE,cAAC,EAAD,CAAiB3E,MAAO8E,EAAS/E,SAChBI,SAAU,SAAAJ,GAAaI,EAAS,CAACJ,kBAEpD,cAAC,EAAD,CAAkBC,MAAO8E,EAASX,OAChBhE,SAAU,SAAAgE,GAAWhE,EAAS,CAACgE,YAC/BxC,KAnBR,WACVsC,EAAUa,KACXV,MAAM,4BACNW,EAAYH,W,oBC3BZD,GAAkBjG,IAAOC,IAAV,oDAGfqG,GAAOtG,IAAOC,IAAV,yRAeJsG,GAAOvG,IAAOwG,GAAR,4FAoEGC,I,YAAAA,GA9Df,WACE,MAAgCtF,mBAAoB,KAApD,mBAAOE,EAAP,KAAiBqF,EAAjB,KACOrB,EAAWD,IAAXC,QACAN,EAAWnB,IAAXmB,QACD4B,EAAsC,GACpBtB,EAAQjB,QAAO,SAAAwC,GAAC,OAAIA,EAAEvF,WAAaA,KAE3CjC,SAAQ,SAAAwH,GACtB,IAAMC,EAAMC,KAAIF,EAAEf,UAAUkB,OAAO,8BAC7BF,KAAOF,IACVA,EAAKE,GAAO,IAEdF,EAAKE,GAAKG,KAAKJ,MAIlB,IAAMK,EAAQrI,OAAOsI,QAAQP,GAAMQ,MAAK,SAACC,EAAGC,GAC1C,OAAID,EAAE,KAAOC,EAAE,GAAW,EACtBD,EAAE,GAAKC,EAAE,GAAW,EACpBD,EAAE,GAAKC,EAAE,IAAY,EAClB,KAKT,OAFA/H,QAAQC,IAAI0H,GAGT,eAAC,EAAD,WACE,cAAC,GAAD,UACE,cAAC,EAAD,CAAiB3F,MAAOD,EACPI,SAAU,SAAAH,GAAK,OAAIoF,EAAYpF,QAEjD2F,EAAMhJ,KAAI,mCAAEqJ,EAAF,KAAOjC,EAAP,YAAmB,gCACzB,cAACkB,GAAD,UACGe,IAEH,8BACGjC,EAAQpH,KAAI,SAAA2I,GACX,OACG,eAACN,GAAD,WACE,qBAAK1G,UAAU,eAAf,SACGgH,EAAEjB,OACC1H,KAAI,SAAAkH,GAAK,OAAI,+BAAmBJ,EAAQI,IAAhBA,MACxBoC,QAAO,SAAChD,EAAOiD,EAAKC,EAAMR,GAAnB,OACJ1C,EAAO9B,OAAOgF,EAAMR,EAAMrE,OAAO,EAAE,CAAC4E,EAAK,UAAK,CAACA,MAAO,MAG9DZ,EAAE9E,MAAQ,qBAAKlC,UAAU,OAAf,SAAuBgH,EAAE9E,OACpC,sBAAKlC,UAAU,SAAf,mBACIgH,EAAEnB,4BC/ErBiC,GAAS1H,IAAO2H,OAAV,wJCANC,GAAS5H,IAAOC,IAAV,+HCAN4H,GAAQ7H,IAAOC,IAAV,+CCQL6H,GAAU9H,IAAO+H,GAAV,2TA+CEC,OA7Bf,WACE,MAAsBpE,IAAfC,EAAP,EAAOA,KAAKe,EAAZ,EAAYA,OACZ,OACG,eAAC,EAAD,WACE,cAACkD,GAAD,UAEIjE,EAAK5F,KAAI,SAAAoG,GAAG,OACT,6BACE,eAAC,IAAD,CAAMlE,GAAI,SAASkE,EAAIjG,GAAvB,UACE,sBAAMwB,UAAU,UAAhB,SAA2ByE,EAAI3E,OAC/B,cAAC,EAAD,CAAMA,KAAK,cAHN2E,EAAIjG,SAUpB,eAACwJ,GAAD,WACE,cAACC,GAAD,IACA,cAACA,GAAD,IACA,cAACA,GAAD,IACE,cAACH,GAAD,CAAQlG,QAASoD,EAAjB,sCACF,cAACiD,GAAD,WC5CMI,I,SAAAA,GAJf,WACE,OAAO,kECaHC,GAAelI,IAAOC,IAAV,4FAKZkI,GAASnI,IAAOoI,OAAV,2KAUNC,GAA+B,WACnC,MAAwCzE,IAAjCO,EAAP,EAAOA,QAASM,EAAhB,EAAgBA,UAAWE,EAA3B,EAA2BA,UAClB2D,EAAYC,cAAhBnK,GACCiG,EAAMF,EAAQjB,SAASoF,IAuBvBE,EAAUC,cAIhB,OACG,eAAC,EAAD,WACE,eAACN,GAAD,WACE,cAAC,EAAD,CAAMzI,KAAK,OAAQ8B,QANR,WAChBgH,EAAQE,YAMH,4DACA,cAAC,EAAD,OAEDrE,EAjCW,SAACA,GAChB,OACM,gCACE,cAAC6D,GAAD,UACE,cAAC,EAAD,CAAOvG,MAAM,qBAAMI,KAAK,OAAOC,YAAY,qBACpCV,MAAO+C,EAAI3E,KACX+B,SAAU,SAACjD,GACTiG,EAAUJ,EAAIjG,GAAI,CAACsB,KAAMlB,EAAEyD,OAAOX,aAI7C,eAACsG,GAAD,WACE,cAACC,GAAD,IACA,cAACA,GAAD,IACA,cAACA,GAAD,IACA,cAACH,GAAD,CAAQlG,QAAS,kBACdmD,EAAUN,EAAIjG,KADjB,4CAkBAuK,CAAWtE,GAAK,kECtDxBuE,GAAa5I,IAAOC,IAAV,+CAiCD4I,OA5Bf,WACE,OACG,cAACD,GAAD,UACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOE,OAAK,EAACC,KAAK,YAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,QAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,SAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,aAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAUD,OAAK,EAACE,KAAK,IAAI7I,GAAG,UAC5B,cAAC,IAAD,CAAO4I,KAAK,IAAZ,SACE,cAAC,GAAD,c,MC/BbE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.df588bc8.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 37,\n\t\"./left.svg\": 38,\n\t\"./money.svg\": 39,\n\t\"./right.svg\": 40,\n\t\"./tag.svg\": 41\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 36;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944) format(\\\"woff2\\\"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944) format(\\\"woff\\\"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944) format(\\\"truetype\\\")}</style></defs><path d=\\\"M149.461 576H362.54C374.4 576 384 585.6 384 597.461V810.54C384 822.4 374.4 832 362.539 832H149.46C137.6 832 128 822.4 128 810.539V597.46C128 585.6 137.6 576 149.461 576zM85.333 810.539a64.107 64.107 0 0064.128 64.128H362.54a64.107 64.107 0 0064.128-64.128V597.46a64.107 64.107 0 00-64.128-64.128H149.46a64.107 64.107 0 00-64.128 64.128V810.54zm0-384a64.107 64.107 0 0064.128 64.128H362.54a64.107 64.107 0 0064.128-64.128V213.46a64.107 64.107 0 00-64.128-64.128H149.46a64.107 64.107 0 00-64.128 64.128V426.54zM149.461 192H362.54C374.4 192 384 201.6 384 213.461V426.54C384 438.4 374.4 448 362.539 448H149.46C137.6 448 128 438.4 128 426.539V213.46C128 201.6 137.6 192 149.461 192zm768.043 64a21.333 21.333 0 000-42.667H490.837a21.333 21.333 0 100 42.667h426.667zm0 384a21.333 21.333 0 000-42.667H490.837a21.333 21.333 0 100 42.667h426.667zm0-213.333a21.333 21.333 0 000-42.667H490.837a21.333 21.333 0 100 42.667h426.667zm0 384a21.333 21.333 0 000-42.667H490.837a21.333 21.333 0 100 42.667h426.667z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944) format(\\\"woff2\\\"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944) format(\\\"woff\\\"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944) format(\\\"truetype\\\")}</style></defs><path d=\\\"M641.28 278.613l-45.227-45.226L317.42 512.149l278.613 278.486 45.248-45.27-233.365-233.237z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944) format(\\\"woff2\\\"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944) format(\\\"woff\\\"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944) format(\\\"truetype\\\")}</style></defs><path d=\\\"M783.612 167.565L575.025 463.258h164.392v65.367H547.91v90.024h191.507v66.184H547.91v131.088h-98.529V684.833H250.865V618.65H449.38v-90.024H250.865v-65.367h169.374L213.646 167.565h111.089c96.536 146.85 155.141 240.007 175.922 279.397h1.992c7.047-16.226 26.331-48.891 57.787-97.996l118.135-181.4h105.04z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944) format(\\\"woff2\\\"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944) format(\\\"woff\\\"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944) format(\\\"truetype\\\")}</style></defs><path d=\\\"M320 885.333c-8.533 0-17.067-4.266-23.467-10.666-12.8-12.8-10.666-34.134 2.134-44.8L654.933 512 298.667 194.133c-12.8-10.666-14.934-32-2.134-44.8 10.667-12.8 32-14.933 44.8-2.133l384 341.333c6.4 6.4 10.667 14.934 10.667 23.467s-4.267 17.067-10.667 23.467l-384 341.333c-6.4 6.4-12.8 8.533-21.333 8.533z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944) format(\\\"woff2\\\"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944) format(\\\"woff\\\"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944) format(\\\"truetype\\\")}</style></defs><path d=\\\"M960.877 95.386c-1.403-18.235-15.43-32.263-33.666-33.665L521.819 42.082c-9.819 0-19.638 2.806-26.652 9.82L29.457 519.013c-7.013 7.013-9.819 15.43-9.819 25.249s4.209 18.236 9.82 25.25L458.696 998.75c7.014 7.013 15.43 9.819 25.25 9.819s18.235-2.806 25.249-9.82l465.71-465.709c7.013-7.014 11.221-16.833 9.818-26.652L960.877 95.386zM482.542 923.003l-378.74-378.74 429.24-432.044 359.1 18.236 19.639 361.907-429.239 430.64z\\\" /><path d=\\\"M575.123 283.353c-47.693 47.694-47.693 123.442 0 171.135 22.444 22.444 53.304 35.068 85.567 35.068s63.124-12.624 85.568-35.068c22.443-22.444 35.068-53.304 35.068-85.567s-12.625-63.124-35.068-85.568c-46.29-46.29-123.442-46.29-171.135 0zm122.039 122.039c-19.639 19.638-53.304 19.638-71.54 0-19.638-19.639-19.638-51.902 0-71.54 9.82-9.82 22.444-15.43 36.471-15.43 12.625 0 26.652 5.61 36.471 15.43 9.82 9.82 15.43 22.444 15.43 36.471s-7.013 25.25-16.832 35.069z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\n\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\r\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\r\n\r\ntype Props ={\r\n  name?:string\r\n}& React.SVGAttributes<SVGElement>\r\nconst Icon =(props:Props)=>{\r\n  const {name,children,className,...rest}=props\r\n  return (\r\n     <svg className={`icon ${className? className:'' }`} {...rest}>\r\n       {props.name && <use xlinkHref={'#' + props.name}/>}\r\n     </svg>\r\n  )\r\n}\r\n\r\nexport default Icon","import styled from 'styled-components';\r\nimport {NavLink} from 'react-router-dom';\r\nimport React from 'react';\r\nimport Icon from './icon';\r\n\r\n\r\nconst NavWrapper = styled.div`{\r\n  background:white;\r\n  line-height:24px;\r\n  box-shadow:0 0 3px rgba(0,0,0,0.25);\r\n  >ul{\r\n  display: flex;\r\n    >li{\r\n      width: 33.333%;\r\n      text-align: center;\r\n      >a{\r\n        display:flex;\r\n        flex-direction: column;\r\n        padding:4px 0;\r\n        justify-content: center;\r\n        align-items:center;\r\n      }\r\n      .icon{\r\n        width:24px;\r\n        height:24px;\r\n      }\r\n      .selected{\r\n        background:#f0f8ff;\r\n        color:#1560bd;\r\n        .icon{\r\n          fill:#1560bd;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}`\r\n\r\nconst Nav=()=>{\r\n  return(\r\n     <NavWrapper>\r\n       <ul>\r\n         <li>\r\n           <NavLink to=\"/tags\" activeClassName=\"selected\">\r\n             <Icon name='tag'/>\r\n             标签\r\n           </NavLink>\r\n         </li>\r\n         <li>\r\n           <NavLink to=\"/money\" activeClassName=\"selected\">\r\n             <Icon name='money'/>\r\n             记账\r\n           </NavLink>\r\n         </li>\r\n         <li>\r\n           <NavLink to=\"/statistic\" activeClassName=\"selected\">\r\n             <Icon name='chart'/>\r\n             统计\r\n           </NavLink>\r\n         </li>\r\n       </ul>\r\n     </NavWrapper>\r\n  )\r\n}\r\n\r\n\r\nexport default Nav","import Nav from './Nav';\r\nimport React, {useEffect, useRef} from 'react';\r\nimport styled from 'styled-components';\r\n\r\n\r\nconst Wrapper = styled.div`{\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}`;\r\n\r\nconst Main = styled.div`{\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n}`;\r\n\r\ntype Props={\r\n  className?:string;\r\n  scrollTop?:number;\r\n}\r\n\r\nconst Layout:React.FunctionComponent<Props> =(props)=>{\r\n  const mainRef = useRef<HTMLDivElement>(null)\r\n  useEffect(()=>{\r\n    setTimeout(()=>{\r\n      if(!mainRef.current){return}\r\n      mainRef.current.scrollTop=props.scrollTop!\r\n    },0)\r\n  },[props.scrollTop])\r\n  return (\r\n     <Wrapper>\r\n       <Main ref={mainRef} className={props.className}>\r\n         {props.children}\r\n       </Main>\r\n       <Nav/>\r\n     </Wrapper>\r\n  );\r\n}\r\nLayout.defaultProps={\r\n  scrollTop:0\r\n}\r\n\r\nexport default Layout\r\n","import styled from 'styled-components';\r\nimport React, {useState} from 'react';\r\n\r\nconst Wrapper = styled.section`{\r\n  font-size:24px;\r\n  >ul{\r\n    display:flex;\r\n    >li{\r\n      width:50%;\r\n      text-align:center;\r\n      padding:16px 0;\r\n      position:relative;\r\n      &.selected::after{\r\n        content:'';\r\n        display:block;\r\n        height:3px;\r\n        background:#3675f0;\r\n        position:absolute;\r\n        width:100%;\r\n        bottom:0;\r\n        left:0;\r\n      }\r\n    }\r\n  }\r\n}`;\r\n\r\ntype Props={\r\n  value:'-'|'+',\r\n  onChange:(value:'-'|'+')=>void\r\n}\r\n\r\nconst CategorySection :React.FunctionComponent<Props> =(props)=>{\r\n  const categoryMap={'-':'支出', '+':'收入'}\r\n  type Keys=keyof  typeof categoryMap\r\n  const [categoryList] = useState<Keys[]>(['-','+'])\r\n  const category= props.value\r\n\r\n  return(\r\n     <Wrapper>\r\n       <ul>\r\n         {categoryList.map(c=>\r\n           <li\r\n              key={c}\r\n              className={category===c? 'selected':''}\r\n               onClick={()=>{props.onChange(c)}}\r\n           >{categoryMap[c]}</li>\r\n         )}\r\n       </ul>\r\n     </Wrapper>\r\n  )\r\n}\r\nexport {CategorySection}","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Label=styled.label`\r\n    display:flex;\r\n    align-items: center;\r\n    >span{margin-right:16px;\r\n      white-space: nowrap;}\r\n    >input{\r\n      display:block;\r\n      width:100%;\r\n      height:44px;\r\n      background: none;\r\n      border:none;\r\n    }\r\n\r\n`\r\n\r\ntype Props = {\r\n  label:string;\r\n}& React.InputHTMLAttributes<HTMLInputElement>\r\n\r\nconst Input:React.FunctionComponent<Props> =(props)=>{\r\n  const {label, children,...rest}=props\r\n  return(\r\n     <Label>\r\n       <span>{props.label}</span>\r\n       <input {...rest}/>\r\n     </Label>\r\n\r\n  )\r\n}\r\nexport{Input}","import styled from 'styled-components';\r\nimport React, {ChangeEventHandler} from 'react';\r\nimport {Input} from '../../components/Input';\r\n\r\nconst Wrapper = styled.section`{\r\n  background: #f5f5f5;\r\n  padding:14px 16px;\r\n  font-size:14px;\r\n}`;\r\n\r\ntype Props = {\r\n  value: string,\r\n  onChange:(value:string)=>void\r\n}\r\n\r\nconst NoteSection:React.FunctionComponent<Props>  = (props)=>{\r\n  const note= props.value\r\n\r\n  const onChange:ChangeEventHandler<HTMLInputElement> = (e)=>{\r\n      props.onChange(e.target.value)\r\n\r\n  }\r\n  return (\r\n        <Wrapper>\r\n          <Input label=\"备注\" type='text' placeholder='在这里添加备注'\r\n                 value={note} onChange={onChange}/>\r\n        </Wrapper>\r\n     )\r\n}\r\n\r\nexport {NoteSection}","import styled from 'styled-components';\r\n\r\nconst Wrapper = styled.section`{\r\n  display:flex;\r\n  flex-direction: column;\r\n  > .output{\r\n    background:white;\r\n    font-size:36px;\r\n    line-height:72px;\r\n    text-align:right;\r\n    padding:0 16px;\r\n    box-shadow:inset 0 -5px 5px -5px rgba(0,0,0,0.25),\r\n               inset 0 5px 5px -5px rgba(0,0,0,0.25);\r\n  }\r\n  > .pad{\r\n    >button{\r\n      font-size:18px;\r\n      float:left;\r\n      width:25%;\r\n      height:64px;\r\n      border:none;\r\n      &.ok{height:128px;float:right;}\r\n      &.zero{width:50%}\r\n      &:nth-child(1){background:#f2f2f2;}\r\n      &:nth-child(2),\r\n      &:nth-child(5){background:#E0E0E0;}\r\n      &:nth-child(3),\r\n      &:nth-child(6),\r\n      &:nth-child(9){background:#D3D3D3}\r\n      &:nth-child(4),\r\n      &:nth-child(7),\r\n      &:nth-child(10) {background:#C1C1C1}\r\n      &:nth-child(8),\r\n      &:nth-child(11),\r\n      &:nth-child(13){background:#B8B8B8}\r\n      &:nth-child(12){background:#9A9A9A}\r\n      &:nth-child(14){background:#A9A9A9}\r\n    }\r\n    \r\n    @media(max-height:700px){\r\n      > button{\r\n        height:40px;\r\n        &.ok{\r\n          height:80px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}`;\r\nexport {Wrapper}","\nimport React, {useState} from 'react';\nimport {Wrapper} from './NumberPadSection/Wrapper';\nimport {generateOutput} from './NumberPadSection/generateOutput';\n\ntype Props = {\n  value:number;\n  onChange:(value:number)=>void;\n  onOk?:()=>void\n}\n\nconst NumberPadSection :React.FunctionComponent<Props> =(props)=>{\n  const [output,_setOutput] = useState(props.value.toString())\n  const setOutput = (output:string)=>{\n    let newOutput:string\n    if(output.length>=16){\n      newOutput= output.slice(0,16)\n    }else if(output.length===0){\n      newOutput='0'\n    }else{\n      newOutput= output\n    }\n    _setOutput(newOutput)\n    props.onChange(parseFloat(newOutput))\n  }\n  const onClickButtonWrapper=(e:React.MouseEvent)=>{\n    const text= (e.target as HTMLButtonElement).textContent\n    if(text===null){return}\n    if(text ==='ok'){\n      if(props.onOk){\n         props.onOk()\n      }\n      return\n    }\n    if('0123456789.'.split('').concat(['删除','清空']).indexOf(text)>=0){\n      setOutput(generateOutput(text,output))\n    }\n  }\n\n\n  return (\n     <Wrapper>\n       <div className='output'>\n         {output}\n       </div>\n       <div className='pad clearfix' onClick={onClickButtonWrapper}>\n         <button >1</button>\n         <button>2</button>\n         <button>3</button>\n         <button>删除</button>\n         <button>4</button>\n         <button>5</button>\n         <button>6</button>\n         <button>清空</button>\n         <button>7</button>\n         <button>8</button>\n         <button>9</button>\n         <button className='ok'>ok</button>\n         <button className='zero'>0</button>\n         <button>.</button>\n\n       </div>\n     </Wrapper>\n\n  )\n}\nexport {NumberPadSection}","\r\nconst generateOutput = (text:string,output='0')=>{\r\n  switch(text){\r\n    case '0':\r\n    case '1':\r\n    case '2':\r\n    case '3':\r\n    case '4':\r\n    case '5':\r\n    case '6':\r\n    case '7':\r\n    case '8':\r\n    case '9':\r\n      if(output==='0'){\r\n        return text\r\n      }else{\r\n        return output+text\r\n      }\r\n    case '.':\r\n      if(output.indexOf('.')>=0){return output}\r\n      return output+'.'\r\n\r\n    case '删除':\r\n      if(output.length===1){\r\n        return ''\r\n      }else{\r\n       return output.slice(0,-1)\r\n      }\r\n    case '清空':\r\n      return ''\r\n    default:\r\n      return ''\r\n  }\r\n}\r\n\r\nexport {generateOutput}","let id =parseInt(window.localStorage.getItem('idMax')||'0')\r\n\r\nconst createId= ():number=>{\r\n  id+=1\r\n  window.localStorage.setItem('idMax',id.toString())\r\n  return id\r\n}\r\n\r\nexport{createId}","import {useEffect, useRef} from 'react';\r\n\r\n\r\nconst useUpdate=(fn:()=>void, dependency:any[])=>{\r\n  const count = useRef(0)\r\n  useEffect(()=>{\r\n    count.current+=1\r\n  })\r\n  useEffect(()=>{\r\n    if(count.current>1){\r\n     fn()\r\n    }\r\n  },[fn,dependency])\r\n}\r\nexport{useUpdate}","import {useEffect, useState} from 'react';\r\nimport {createId} from 'lib/createId';\r\nimport {useUpdate} from './useUpdate';\r\n\r\n\r\nconst useTags = () => {\r\n  const [tags, setTags] = useState<{ id: number; name: string }[]>([]);\r\n\r\n  useEffect(()=>{\r\n    let localTags=JSON.parse(window.localStorage.getItem('tags') || '[]')\r\n    if(localTags.length===0){\r\n      localTags=[\r\n        {id: createId(), name: '衣'},\r\n        {id: createId(), name: '食'},\r\n        {id: createId(), name: '住'},\r\n        {id: createId(), name: '行'}\r\n      ]\r\n    }\r\n    setTags(localTags)\r\n  },[])    //组件挂载时执行\r\n\r\n  useUpdate(()=>{\r\n    window.localStorage.setItem('tags',JSON.stringify(tags))\r\n  },tags)\r\n\r\n  const findTag = (id:number)=>tags.filter(tag=>tag.id===id)[0]\r\n  const findTagIndex = (id:number)=>{\r\n    let result =-1\r\n    for(let i=0 ;i<tags.length;i++){\r\n      if(tags[i].id===id){\r\n        result = i\r\n        break\r\n      }\r\n    }\r\n    return result\r\n  }\r\n  const updateTag= (id:number, obj:{name:string})=>{\r\n    setTags(tags.map(tag=>tag.id===id? {id,name:obj.name}:tag))\r\n  }\r\n  const deleteTag =(id:number)=>{\r\n    setTags(tags.filter(tag=>tag.id!==id))\r\n  }\r\n  const addTag=()=>{\r\n    const tagName = window.prompt('新标签的名称为')\r\n    if(tagName !==null && tagName!==''){\r\n      setTags([...tags,{id:createId(),name:tagName,}])\r\n    }\r\n  }\r\n  const getName= (id:number)=>{\r\n    const tag  =tags.filter(t=>t.id===id)[0]\r\n    return tag?tag.name: ''\r\n  }\r\n  return {tags, setTags,findTag, findTagIndex,updateTag,deleteTag,addTag ,getName};\r\n};\r\n\r\n\r\nexport {useTags};","import styled from 'styled-components';\r\nimport React from 'react';\r\nimport {useTags} from '../../components/hooks/useTags';\r\n\r\n\r\nconst Wrapper = styled.section`{\r\n  background:#FFFFFF;padding:12px 16px;\r\n  flex-grow:1;\r\n  display:flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: flex-start;\r\n  > ol {\r\n    margin:0 -12px;\r\n    > li {\r\n      background: #D9D9D9;\r\n      border-radius: 18px;\r\n      display: inline-block;\r\n      padding: 3px 18px;\r\n      font-size: 14px;\r\n      margin: 8px 12px;\r\n      &.selected{\r\n        background:#3675f0;\r\n        color:white;\r\n      }\r\n    }\r\n  }\r\n  >button{\r\n    background:none;\r\n    border:none;\r\n    padding:2px 4px;\r\n    border-bottom:1px solid #333;\r\n    color:#666;\r\n    margin-top:8px;\r\n  }\r\n}`;\r\ntype Props = {\r\n  value: number[],\r\n  onChange:(value:number[])=>void,\r\n}\r\nconst TagsSection:React.FunctionComponent<Props> = (props)=>{\r\n  const {tags, addTag}= useTags()\r\n  const selectedTagIds=props.value\r\n  const onToggleTag=(tagId:number)=>{\r\n    const index =selectedTagIds.indexOf(tagId)\r\n    if(index>=0){\r\n      props.onChange(selectedTagIds.filter(t=>t!==tagId))\r\n    }else{\r\n      props.onChange([...selectedTagIds,tagId])\r\n    }\r\n  }\r\n  const getClass = (tagId: number) => selectedTagIds.indexOf(tagId) >= 0 ? 'selected' : '';\r\n\r\n  return (\r\n        <Wrapper>\r\n          <ol>\r\n            {tags.map(\r\n               tag=><li key={tag.id} onClick={\r\n                 ()=> {onToggleTag(tag.id);}\r\n               }\r\n               className={getClass(tag.id)}\r\n               >{tag.name}</li>\r\n            )}\r\n          </ol>\r\n          <button onClick={addTag}>新增标签</button>\r\n        </Wrapper>\r\n     )\r\n}\r\nexport {TagsSection}","import {useEffect, useState} from 'react';\r\nimport {useUpdate} from './useUpdate';\r\n\r\n export type RecordItem={\r\n  tagIds:number[],\r\n  note:string,\r\n  category:'-'|'+',\r\n  amount:number,\r\n  createAt:string //ISO 8601\r\n}\r\ntype newRecordItem=Omit<RecordItem,'createAt'>\r\n\r\nconst useRecords  =()=>{\r\n  const[records,setRecords]=useState<RecordItem[]>([])\r\n  useEffect(()=>{\r\n    setRecords(JSON.parse(window.localStorage.getItem('records')||'[]'))\r\n  },[])\r\n  useUpdate(()=>{\r\n    window.localStorage.setItem('records',JSON.stringify(records))\r\n  },records)\r\n  const addRecord=(newRecord:newRecordItem)=>{\r\n    if(newRecord.amount<=0){\r\n      alert('请输入金额')\r\n      return false\r\n    }\r\n    if(newRecord.tagIds.length===0){\r\n      alert('请选择标签')\r\n      return false\r\n    }\r\n    const record= {...newRecord,createAt:(new Date()).toISOString()}\r\n    setRecords([...records,record])\r\n    return true\r\n  }\r\n  return{records,addRecord}\r\n}\r\nexport {useRecords}","import Layout from '../components/Layout';\nimport React, {useState} from 'react';\nimport styled from 'styled-components';\nimport {CategorySection} from './Money/CategorySection';\nimport {NoteSection} from './Money/NoteSection';\nimport {NumberPadSection} from './Money/NumberPadSection';\nimport {TagsSection} from './Money/TagsSection';\nimport {useRecords} from '../components/hooks/useRecords';\n\n\nconst MyLayout = styled(Layout)`\n  display: flex;\n  flex-direction: column;\n`;\nconst CategoryWrapper=styled.div`\n  background:#c4c4c4;\n`\n\ntype Category = '-' | '+'\n\nconst defaultFormData={\n  tagIds: [] as number[],\n  note: '',\n  category: '-' as Category,\n  amount: 0\n}\n\nfunction Money() {\n  const [selected, setSelected] = useState(defaultFormData);\n  const {addRecord}=useRecords()\n  const onChange = (obj: Partial<typeof selected>) => {\n    setSelected({...selected, ...obj});\n  };\n  const submit = ()=>{\n    if(addRecord(selected)){\n      alert('保存成功')\n      setSelected(defaultFormData)\n    }\n  }\n\n  return (\n     <MyLayout scrollTop={9999}>\n       <TagsSection value={selected.tagIds}\n                    onChange={tagIds => onChange({tagIds})}/>\n       <NoteSection value={selected.note}\n                    onChange={note => {onChange({note});}}/>\n       <CategoryWrapper>\n         <CategorySection value={selected.category}\n                          onChange={category => {onChange({category});}}/>\n       </CategoryWrapper>\n       <NumberPadSection value={selected.amount}\n                         onChange={amount => {onChange({amount});}}\n                         onOk={submit}\n\n       />\n\n     </MyLayout>\n  );\n}\n\nexport default Money;","import Layout from '../components/Layout';\r\nimport React, {ReactNode, useState} from 'react';\r\nimport {CategorySection} from './Money/CategorySection';\r\nimport styled from 'styled-components';\r\nimport {RecordItem, useRecords} from '../components/hooks/useRecords';\r\nimport {useTags} from '../components/hooks/useTags';\r\nimport day from 'dayjs';\r\n\r\n\r\nconst CategoryWrapper = styled.div`\r\n  background: white;\r\n`;\r\nconst Item = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background: white;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n\r\n  > .note {\r\n    margin-right: auto;\r\n    margin-left: 16px;\r\n    color: #999;\r\n  }\r\n`;\r\nconst Header=styled.h3`\r\n  font-size:18px;\r\n  line-height:20px;\r\n  padding:10px 16px;\r\n`\r\n\r\nfunction Statistic() {\r\n  const [category, setCategory] = useState<'-' | '+'>('-');\r\n  const {records} = useRecords();\r\n  const {getName} = useTags();\r\n  const hash: { [K: string]: RecordItem[] } = {};\r\n  const selectedRecords = records.filter(r => r.category === category);\r\n\r\n  selectedRecords.forEach(r => {\r\n    const key = day(r.createAt).format('YYYY年MM月DD日');\r\n    if (!(key in hash)) {\r\n       hash[key] = [];\r\n    }\r\n     hash[key].push(r);\r\n\r\n  });\r\n\r\n  const array = Object.entries(hash).sort((a, b) => {\r\n    if (a[0] === b[0]) return 0;\r\n    if (a[0] < b[0]) return 1;\r\n    if (a[0] > b[0]) return -1;\r\n    return 0;\r\n  });\r\n\r\n  console.log(array);\r\n\r\n  return (\r\n     <Layout>\r\n       <CategoryWrapper>\r\n         <CategorySection value={category}\r\n                          onChange={value => setCategory(value)}/>\r\n       </CategoryWrapper>\r\n       {array.map(([date,records])=> <div>\r\n            <Header>\r\n              {date}\r\n            </Header>\r\n            <div>\r\n              {records.map(r => {\r\n                return (\r\n                   <Item>\r\n                     <div className=\"tags oneLine\">\r\n                       {r.tagIds\r\n                          .map(tagId => <span key={tagId}>{getName(tagId)}</span>)\r\n                          .reduce((result,span,index,array)=>\r\n                              result.concat(index<array.length-1?[span,'，']:[span]),[]as ReactNode[])\r\n                       }\r\n                     </div>\r\n                     {r.note && <div className=\"note\">{r.note}</div>}\r\n                     <div className=\"amount\">\r\n                       ￥{r.amount}\r\n                     </div>\r\n                   </Item>\r\n\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n       )}\r\n\r\n     </Layout>\r\n  );\r\n}\r\n\r\nexport default Statistic;","import styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\n  font-size: 18px;\r\n  border: none;\r\n  padding: 8px 12px;\r\n  background: #1560bd;\r\n  border-radius: 4px;\r\n  color: white\r\n`;\r\nexport {Button}","import styled from 'styled-components';\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\nexport{Center}","import styled from 'styled-components';\r\n\r\nconst Space = styled.div`\r\n  height: 16px;\r\n`;\r\n\r\nexport{Space}","import Layout from '../components/Layout';\r\nimport React from 'react';\r\nimport {useTags} from 'components/hooks/useTags';\r\nimport styled from 'styled-components';\r\nimport Icon from 'components/icon';\r\nimport {Link} from 'react-router-dom';\r\nimport {Button} from 'components/Button';\r\nimport {Center} from 'components/Center';\r\nimport {Space} from '../components/Space';\r\n\r\nconst TagList = styled.ol`\r\n  font-size: 16px;\r\n  background: white;\r\n\r\n  > li {\r\n    border-bottom: 1px solid #d5d5d9;\r\n    line-height: 20px;\r\n    margin-left: 16px;\r\n    >a{\r\n      padding: 12px 16px 12px 0;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nfunction Tags() {\r\n  const {tags,addTag} = useTags();\r\n  return (\r\n     <Layout>\r\n       <TagList>\r\n         {\r\n           tags.map(tag =>\r\n              <li key={tag.id}>\r\n                <Link to={'/tags/'+tag.id}>\r\n                  <span className=\"oneLine\">{tag.name}</span>\r\n                  <Icon name=\"right\"/>\r\n                </Link>\r\n\r\n              </li>\r\n           )\r\n         }\r\n       </TagList>\r\n       <Center>\r\n         <Space/>\r\n         <Space/>\r\n         <Space/>\r\n           <Button onClick={addTag}>新增标签</Button>\r\n         <Space/>\r\n       </Center>\r\n\r\n     </Layout>\r\n  );\r\n}\r\n\r\nexport default Tags;","import React from 'react';\r\n\r\nfunction NoMatch() {\r\n  return <div>页面不存在</div>;\r\n\r\n}\r\nexport default NoMatch","import React from 'react';\r\nimport {useTags} from 'components/hooks/useTags';\r\nimport {useParams, useHistory} from 'react-router-dom';\r\nimport Layout from 'components/Layout';\r\nimport Icon from 'components/icon';\r\nimport {Button} from '../components/Button';\r\nimport styled from 'styled-components';\r\nimport {Input} from '../components/Input';\r\nimport {Center} from '../components/Center';\r\nimport {Space} from '../components/Space';\r\n\r\n\r\ntype Params = {\r\n  id: string\r\n}\r\n\r\nconst InputWrapper = styled.div`\r\n  background: white;\r\n  padding: 0 16px;\r\n  margin-top: 8px;\r\n`;\r\nconst Topbar = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  line-height: 20px;\r\n  padding: 14px;\r\n  background: white;\r\n\r\n`;\r\n\r\nconst Tag: React.FunctionComponent = () => {\r\n  const {findTag, updateTag, deleteTag} = useTags();\r\n  let {id: idString} = useParams<Params>();\r\n  const tag = findTag(parseInt(idString));\r\n  const tagContent=(tag:{id:number,name:string})=>{\r\n    return(\r\n          <div>\r\n            <InputWrapper>\r\n              <Input label=\"标签名\" type=\"text\" placeholder=\"标签名\"\r\n                     value={tag.name}\r\n                     onChange={(e) => {\r\n                       updateTag(tag.id, {name: e.target.value});\r\n                     }}\r\n              />\r\n            </InputWrapper>\r\n            <Center>\r\n              <Space/>\r\n              <Space/>\r\n              <Space/>\r\n              <Button onClick={() =>\r\n                 deleteTag(tag.id)\r\n              }>删除标签</Button>\r\n            </Center>\r\n          </div>\r\n       )\r\n  }\r\n  const history = useHistory()\r\n  const onClickBack=()=>{\r\n    history.goBack()\r\n  }\r\n  return (\r\n     <Layout>\r\n       <Topbar>\r\n         <Icon name=\"left\"  onClick={onClickBack}/>\r\n         <span>编辑标签</span>\r\n         <Icon/>\r\n       </Topbar>\r\n       {tag ? tagContent(tag):<div>tag删除完成</div>}\r\n\r\n     </Layout>\r\n  );\r\n};\r\n\r\nexport {Tag};","import React from 'react';\n\nimport {\n  HashRouter as Router,\n  Switch,\n  Route, Redirect\n} from 'react-router-dom';\nimport Money from './views/Money';\nimport Statistic from './views/Statistic';\nimport Tags from './views/Tags';\nimport NoMatch from './views/NoMatch';\nimport styled from 'styled-components';\nimport {Tag} from './views/Tag';\n\nconst AppWrapper = styled.div`{\n  color:#333;\n}`\n\n\nfunction App() {\n  return (\n     <AppWrapper>\n       <Router>\n         <Switch>\n           <Route exact path=\"/tags/:id\">\n             <Tag/>\n           </Route>\n           <Route exact path=\"/tags\">\n             <Tags/>\n           </Route>\n           <Route exact path=\"/money\">\n             <Money/>\n           </Route>\n           <Route exact path=\"/statistic\">\n             <Statistic/>\n           </Route>\n           <Redirect exact from=\"/\" to=\"money\"/>\n           <Route path=\"*\">\n             <NoMatch/>\n           </Route>\n         </Switch>\n       </Router>\n     </AppWrapper>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport './index.scss'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}